### 프로토콜의 이해

##### 프로토콜의 개념 및 필요성

​	프로토콜이란 서로 다른 시스템에 있는 두 개체간에 성공적으로 데이터를 전송하는 통신규약
​	가장 기본적인 프로토콜
​		인터넷의 기본 프로토콜인 TCP/IP
​	TCP/IP 프로토콜에서 네트워크 계층 프로토콜은 IP,ARP, ICMP, IGMP로 구성된다



### 네트워크 계층 프로토콜

##### ARP

IP주소를 받아 네트워크 카드의 물리 주소인 MAC주소로 변환 시켜주는 프로토콜

##### RARP

물리 주소인 주소를 IP 주소로 변환시켜주는 역주소 변환 프로토콜

논리주소 -> ARP -> 물리주소
물리주소 -> RARP -> 논리주소

**주소변환 프로토콜**
논리적 주소인 IP주소를 물리적 주소인 MAC 주소로 매핑시켜주는 것이 바로 ARP이다.

##### IP주소와 MAC주소 매핑

A컴퓨터에서 c컴퓨터로 신호를 전송한다고 가정해보자 각 호스트의 IP주소와 MAC주소

##### MAC 주소로 데이터 전송

##### 역주소 변환 프로토콜

호스트 컴퓨터의 물리 주소를 알고 있을 때 IP주소를 알아내는 데 사용한다.컴퓨터를 네트워크에 처음 연경할 때나 디스크가 없는 컴퓨터를 부팅할 때 사용하는 프로토콜이다
RARP는 이터넷, 토큰링 FDDI 등 근거리 통신망에서 사용할 수 있다. 

##### 인터넷 제어 메시지 프로토콜

네트워크의 호스트나 라우터에서는 예상치 못한 상황이나 오류가 발생할 수 있다 이때 라우터에서 발생한 오류를 송신 측으로 전송하는 데 사용하는 프로토콜이 바로 ICMP
ICMP는 네트워크 계층에서 상주하지 않고, IP 데이터크램에 캡슐화 되어 인터넷으로 전송된다

#### ICMP

##### ICMP의 내용

타입 : ICMP 메시지의 종류를 15개의 서로 다른 값으로 명시한다
코드 :  메시지의 종류를 타입보다 좀 더 세분화하는 추가적인 코드다
검사랍 : 메시지 오류 검사 기능을 한다 
나머지 헤더 : 타입과 코드 값에 따라 변경된다

##### ICMP 오류 메시지

가장 일반적인 ICMP 메시지로, 전송을 시도할 때나 IP 데이터그램 전송 도중에 발생하는 다양한 형태의 오류 상태를 통보한다
	-> 발생유형 : 목적지 도달 불가능, 송신지 억제, 재지정, 시간초과, 매개 변수 문제

#### IGMP

##### 인터넷 그룹 메시지 프로토콜

IGMP는 인터넷에 연결한 컴퓨터가 멀티캐스트 그룹을 주위의 라우터에 알릴 수 있는 수단을 제공하는 프로토콜
멀티캐스팅은 네트워크의 한 호스트 컴퓨터가 미리 지정된 다수의 컴퓨터에 메시지를 보낼 수 있도록 허용
IGMP는 멀티캐스트 라우터가 주기적으로 서브넷 호스트 컴퓨터 그룸에 IGMP 쿼리 메시지를 전송하고, 호스트 컴퓨터는 IGMP 쿼리 메시지에 응답하며 자신이 가입하려는 그룹 주소 정보를 IGMP 리포트 메시지를 이용하여 라우터에 알려주는 방식으로 동작



### 전송 계층 프로토콜

전송 계층에서는 패킷 단위로 데이터를 전송하는데 이 역할을 수행하는 기본 프로토콜은 전송 제어 프로토콜인 TCP와 사용자 데이터크램 프로토콜인 UDP이다

데이터를 송수신할 때 IDP나 TCP 중 어느 것을 사용하든지 상관없으나 UDP는 패킷의 확실한 전송을 보장하지 못하는 반면 TCP는 패킷의 확실한 전송을 보장한다

전송계층 프로토콜 : TCP, IP, NCP, SPX

TCP -> 안정성 보장
UDP -> 데이터의 안정성 보장 X

##### SPX

Netware의 연결 지향 프로토콜로, 패킷 접수 통지와 흐름 제어 등 TCP와 유사한 기능을 한다
Netware 서버들은 프린트 큐 사이에서 프린트 서버 및 프린터 간의 통신에 spx를 주로 사용하며 인터넷 통신에는 서의 사용하지 않음

spx헤더 : 연결제어, 데이터 스트림유형, 송신지 연결, 수신지 연결, 순서번호, 확인 일련번호, 위치 번호, 데이터

##### NCP

SPX가 프린트 관련 작업을 담당한다면, NCP는 Netware 클라이언트와 서버 간의 파일공유 등 다양한 네트워크 기능을 담당한다
TCP/UDP나 SPX와는 달리 서로 다른 포맷을 사용
NCP는 이런 여러 포맷의 메시지를 이용하여 클라이언트와 서버 간에 해석기 또는 번역기의 기능을 제공



### 응용 계층 프로토콜 및 서비스

TCP/IP 응용 계층에는 최종 사용자가 직접 사용할 수 있는 여러 가지 프로토콜과 서비스가 정의되어 있다
응용 계층 프로토콜을 TCP나 UDP가 제공하는 프로세스-프로세스 통신 서비스를 이용하여 유용한 기능을 수행한다
보통 사용자는 TCP/UDP에 직접 접속하지 않고 응용 계층을 이용하여 통신 서비스를 사용하며 응용 계층 프로그램은 시스템 소프트웨어가 아닌 응용 프로그램으로 제공한다

**응용 계층 프로트콜**
응용 계층 : SMTP, FTP, TFTP, DNS, SNMP, BOOTP

##### 프로토콜

응용 계층에서 제공하는 프로토콜에는 TCP 응용 계층 프로토콜인 FTP, HTTP, 텔넷, SMTP, POP3, IMAP와 UDP 응용 계층 프로토콜인 DHCP, SNMP 프로토콜이 있다

***기본 : FTP(21), SSH(22), Telnet(23), HTTP(80)***



##### SMTP와 POP3, IMAP

TCP/IP 프로토콜에서는 클라이언트와 메일 서버, 메일 서버와 메일 서버 간에 이메일을 교환하려고 SMTP와 POP3, IMAP를 사용한다
메일 서버 간의 이메일은 SMTP로 교환하며, 메일 서버와 클라이언트 간에는 이메일 전송 과정에 따라 SMTP와 POP3 또는 IMAP를 각각 따로 사용한다

![](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20210209155400464.png)

##### DHCP

네트워크의 각 노드에 유일한 IP 주소를 자동으로 할당하고 관리하는 서비스
관리자는 DHCP로 IP 주소를 관리하는 시간과 노력을 크게 줄일 수 있을 뿐만 아니라 IP 주소 할당 과정에서 발생할 수 있는 잠재적인 오류도 줄일 수 있어 네트워크의 효율이 높다



### RIP

